---
name: analyze-project
description: 플러그인 마켓플레이스 프로젝트를 자동 분석하여 구조 일관성, 문서 품질, 설정 정합성을 검사하고, 선택적으로 GitHub Issue로 등록합니다.
user-invocable: true
---

# 프로젝트 분석 워크플로우

이 스킬은 **범위 결정 → 분석 에이전트 호출(병렬) → 종합 리포트 → (선택) 이슈 생성**까지의 전체 프로젝트 분석 워크플로우를 오케스트레이션합니다.

**인자**: `$ARGUMENTS`로 분석 범위를 지정할 수 있습니다:
- 인자 없음: 전체 프로젝트 분석
- 카테고리 지정: `structure`, `docs`, `settings` 중 택
- 플러그인명 지정: 특정 플러그인만 분석 (예: `/analyze-project git-workflow`)

> **중요**: 각 단계가 끝날 때마다 결과를 개발자에게 보고하고, **다음 단계로 진행할지 확인**을 받으세요.

## 워크플로우 체크리스트

아래 체크리스트를 참조하여 **모든 단계를 빠짐없이** 수행하세요:

- [ ] **1단계**: 분석 범위 결정 → 인자 파싱 → 개발자 확인
- [ ] **2단계**: 분석 에이전트 호출 → 병렬 실행 → 결과 수집
- [ ] **3단계**: 종합 리포트 작성 → 개발자에게 보고
- [ ] **4단계**: (선택) 이슈 생성 → `issue-creator` 호출 → 개발자 확인

## 전제 조건

- 현재 디렉토리가 플러그인 마켓플레이스 프로젝트의 루트여야 합니다.
- `plugins/` 디렉토리가 존재해야 합니다.
- (4단계 사용 시) `gh` CLI가 설치되고 인증된 상태여야 합니다.

## 워크플로우

### 1단계: 분석 범위 결정

`$ARGUMENTS`를 파싱하여 분석 범위를 결정합니다.

1. 인자를 분석합니다:
   - **인자 없음**: 전체 프로젝트 (모든 플러그인, 모든 카테고리)
   - **카테고리명** (`structure` / `docs` / `settings`): 해당 카테고리만 분석
   - **플러그인명** (예: `git-workflow`): 해당 플러그인만 분석 (모든 카테고리)
1. `plugins/` 디렉토리를 스캔하여 분석 대상 플러그인 목록을 확인합니다.
1. 분석 범위를 개발자에게 제시합니다:
   ```
   ## 분석 범위
   - 대상 플러그인: <목록 또는 "전체">
   - 분석 카테고리: <목록 또는 "전체">
   ```
1. **확인 포인트**: "이 범위로 분석을 시작할까요?"

### 2단계: 분석 에이전트 호출

범위에 해당하는 분석 에이전트를 **병렬로** 호출합니다.

1. 범위에 따라 호출할 에이전트를 결정합니다:

   | 카테고리 | 에이전트 |
   |----------|----------|
   | structure | `structure-analyzer` |
   | docs | `docs-analyzer` |
   | settings | `settings-analyzer` |

1. 특정 플러그인이 지정된 경우, 각 에이전트에 플러그인명을 전달합니다.
1. **병렬 실행**: 선택된 에이전트들을 동시에 호출하여 실행 시간을 최소화합니다. 각 에이전트를 별도의 Task로 실행합니다.
1. 각 에이전트의 분석 결과를 수집합니다.

### 3단계: 종합 리포트 작성

모든 분석 에이전트의 결과를 통합하여 종합 리포트를 작성합니다.

1. 각 에이전트의 결과를 순서대로 나열합니다.
1. 전체 요약을 작성합니다:

   ```
   ## 종합 분석 리포트

   ### structure-analyzer 분석 결과
   <에이전트 출력>

   ### docs-analyzer 분석 결과
   <에이전트 출력>

   ### settings-analyzer 분석 결과
   <에이전트 출력>

   ---

   ## 전체 요약

   | 카테고리 | error | warning | info |
   |----------|-------|---------|------|
   | structure | N | N | N |
   | docs | N | N | N |
   | settings | N | N | N |
   | **합계** | **N** | **N** | **N** |

   - 검사 대상 플러그인: N개
   - 총 발견 사항: N건
   ```

1. 개발자에게 리포트를 보고합니다.
1. **확인 포인트**: "분석 결과를 확인해 주세요. 이 결과를 GitHub Issue로 등록할까요?"

### 4단계: (선택) 이슈 생성

개발자가 이슈 생성을 승인한 경우에만 진행합니다.

1. `issue-creator` 에이전트에 분석 결과를 전달하여 호출합니다.
1. 에이전트가 이슈 미리보기를 제시하고 개발자 확인을 받습니다.
1. 이슈 생성 결과를 보고합니다.

> **참고**: 개발자가 이슈 생성을 거부하면 리포트만 제공하고 워크플로우를 종료합니다.

## 완료 보고

모든 단계가 완료되면 최종 요약을 제시합니다:

```
## 분석 완료

- **분석 범위**: <범위>
- **검사 플러그인**: N개
- **발견 사항**: error N건, warning N건, info N건
- **생성된 이슈**: N건 (또는 "이슈 생성 건너뜀")
```

## 중단 및 재개

- 개발자가 특정 단계에서 중단을 요청하면, 현재까지의 진행 상황을 요약하고 중단합니다.
- 분석 에이전트 호출이 실패하면 에러를 보고하고, 나머지 에이전트의 결과만으로 리포트를 작성합니다.
- 발견 사항이 없으면 "모든 검사를 통과했습니다"를 보고합니다.
